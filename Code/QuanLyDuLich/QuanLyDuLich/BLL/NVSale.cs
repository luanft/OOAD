//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool
//     Changes to this file will be lost if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
namespace BLL
{
    using DataAccessLayer;
    using DataTranferObject;
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Text;

	public class NVSale : NhanVien
	{
		public IEnumerable<Tour> Tour;

		public IEnumerable<DiemDuLich> DiemDuLich;
        public List<KhachHang> DanhSachKhachHang;
        public NVSale()
        { }
        public NVSale(int manv) 
        {
            this.SetNhanVien(this.LayThongTinNhanVien(manv));
            dalKhachHang dal_Khachhang = new dalKhachHang();
            DanhSachKhachHang = new List<KhachHang>();
            List<dtoKhachHang> ds_dtoKhachHang = new List<dtoKhachHang>();
            ds_dtoKhachHang= dal_Khachhang.LayDanhSachKhachHang(manv);            
            foreach (dtoKhachHang i in ds_dtoKhachHang) 
            {
                KhachHang tmp = new KhachHang(i);
                DanhSachKhachHang.Add(tmp);
            }
        }
		public bool CapNhatTour(Tour tour)
		{
            return tour.ChinhSuaTour();
		}

		public Tour ChonTour(int maTour)
		{
			throw new System.NotImplementedException();
		}

		public bool LapTour(Tour data)
		{
            return data.Luu();
		}

		public DiemDuLich ChonDiemDL(int ma)
		{
			throw new System.NotImplementedException();
		}

        public bool CapNhatDiemDuLich(DiemDuLich ddl, dtoDiemDuLich data)
		{
			throw new System.NotImplementedException();
		}

		public bool ThemDiemDuLich(dtoDiemDuLich data)
		{
			throw new System.NotImplementedException();
		}

		public bool CapNhatKhachHang(KhachHang kh, dtoKhachHang data)
		{
            kh.CapNhat(data);
            return true;
		}
        public void XoaKhachHang(KhachHang kh)
        {
            kh.Xoa(kh.pMaKhachHang);
        }
		public KhachHang ChonKhachHang(int kh)
		{
            foreach (KhachHang i in DanhSachKhachHang)
            {
                if(i.pMaKhachHang==kh)
                {
                    return i;
                }                
            }
            return null;
		}
        public void ThemKhachHang(dtoKhachHang KhachHang)
        {
            KhachHang kh = new KhachHang(KhachHang);
            DanhSachKhachHang.Add(kh);
            kh.Luu();
        }

		public bool SubmitTour(Tour tour)
		{
            throw new NotImplementedException();
            
		}

		public List<Tour> ChonThoiGianXemTour(int thoiGian)
		{
			throw new System.NotImplementedException();
		}

	}
}

